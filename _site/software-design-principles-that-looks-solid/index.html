<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.17.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="UT" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Software Design Principles - That Looks S.O.L.I.D | Raging Scholar</title>
<meta name="description" content="This is the first post on Software Design Principles, I plan to cover all theDesign Principles that I’ve had personal experiences with, so that this serieswill not be and should not be used as tutorials or introductions to thoseprinciples for that I’ll mostly be approaching them based on my personal (andvery likely biased) opinions and experiences. However, I’ll try to give a briefintroduction to each concept as I go. Please consider reading about theseprinciples from myriad good sources online before you read my posts.">


  <meta name="author" content="Hai Lang">


<meta property="og:type" content="article">
<meta property="og:locale" content="UTF_8">
<meta property="og:site_name" content="Raging Scholar">
<meta property="og:title" content="Software Design Principles - That Looks S.O.L.I.D">
<meta property="og:url" content="http://localhost:4000/software-design-principles-that-looks-solid/">


  <meta property="og:description" content="This is the first post on Software Design Principles, I plan to cover all theDesign Principles that I’ve had personal experiences with, so that this serieswill not be and should not be used as tutorials or introductions to thoseprinciples for that I’ll mostly be approaching them based on my personal (andvery likely biased) opinions and experiences. However, I’ll try to give a briefintroduction to each concept as I go. Please consider reading about theseprinciples from myriad good sources online before you read my posts.">







  <meta property="article:published_time" content="2014-05-09T00:00:00+08:00">





  

  


<link rel="canonical" href="http://localhost:4000/software-design-principles-that-looks-solid/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Hai Lang",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Raging Scholar Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Raging Scholar
          <span class="site-subtitle">uprintf("There is no place like ::1\n");</span>
        </a>
        <ul class="visible-links"></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="http://localhost:4000/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">Software Design Principles - That Looks S.O.L.I.D</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/bio-photo.jpg" alt="Hai Lang" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Hai Lang</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>An OCD Source Code Hygienist who has way too many hobbies, and way too keen to share his ideas.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Xi'an, China</span>
        </li>
      

      
        
          
        
          
        
          
        
          
        
          
        
          
        
      

      

      
        <li>
          <a href="mailto:send@hailang.email">
            <meta itemprop="email" content="send@hailang.email" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Software Design Principles - That Looks S.O.L.I.D">
    <meta itemprop="description" content="This is the first post on Software Design Principles, I plan to cover all theDesign Principles that I’ve had personal experiences with, so that this serieswill not be and should not be used as tutorials or introductions to thoseprinciples for that I’ll mostly be approaching them based on my personal (andvery likely biased) opinions and experiences. However, I’ll try to give a briefintroduction to each concept as I go. Please consider reading about theseprinciples from myriad good sources online before you read my posts.">
    <meta itemprop="datePublished" content="May 09, 2014">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Software Design Principles - That Looks S.O.L.I.D
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  22 minute read

</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>This is the first post on Software Design Principles, I plan to cover all the
Design Principles that I’ve had personal experiences with, so that this series
will not be and should not be used as tutorials or introductions to those
principles for that I’ll mostly be approaching them based on my personal (and
very likely biased) opinions and experiences. However, I’ll try to give a brief
introduction to each concept as I go. Please consider reading about these
principles from myriad good sources online before you read my posts.</p>

<p>Design Principles, differ from Design Patterns, are generalized high level
software design guidelines and rules of thumbs for us to approach some of the
common design problems, they focus on conceptual designs, not the actual
implementation. On the other hand, Design Patterns focus on low level
implementation by providing reusable solutions to common programming problems.</p>

<p>For example, the Design Principle we are going to discuss today, S.O.L.I.D,
states some high level guidelines we should keep in mind when creating a class
or designing a member function, while Design Patterns such as the singleton
pattern, provides detailed steps to follow in order to create classes that can
only be instantiated once.</p>

<p>To be frank, I have the ambition to cover all Design Principles, Design
Patterns, Development Methodologies such as Extreme Programming, Architectural
Patterns like CQRS or MVC, and Development Philosophies like Agile Software
Development and Domain Driven Development. I don’t know if I’ll have the time
and energy to do all these, but since I like making plans and to plan far ahead,
I’m actually approaching all these topics with an order.</p>

<p>And it’s a descending order by the relative effectiveness in improving a
development team’s code quality. For example, we talked about Clean Code in our
five-installment series Clean Code Tips and Tricks first because I think it is
the most effective, almost all of the teams I worked with showed improvements in
code quality in a matter of weeks. And more importantly, it’s general, it can be
and should be adopted by every development team. Architectural Patterns on the
other hand, are great, like MVC and it’s variants, and are widely adopted by
development teams, but the problem is that teams adopt different Architectural
Patterns thus they are more of a subjective topic and are less general.</p>

<p>I’m approaching these topics in this way in hope that even if I couldn’t find
the time or energy to cover everything, my posts would’ve already been
beneficial to my readers.</p>

<h2 id="solid-principle">S.O.L.I.D Principle</h2>

<p>If you’ve read my blog series on Clean Code, which I recommend you do if you
haven’t, we talked about why and how we should focus on writing code that are
easy on the eyes and enjoyable to work with by following some tips and
guidelines. Such a great way to improve your code quality in a short
period of time is often underrated and not getting enough attention. I think
Clean Code should be adopted by every development team and programmer to start
writing clean, beautiful, and elegant code.</p>

<p>Now let’s move on to S.O.L.I.D principle. The reason that I chose to discuss
S.O.L.I.D first before all the other software design principles is that I think
it is the most effective in terms of improving maintainability, reusability, and
extensibility of your codebase. I think it is also the most fundamental
principle that is so influential that it is now standard, a default principle
which I think, again, should be adopted by every development team as long as you
work with an Object Oriented Programming Language.</p>

<h3 id="single-responsibility-principle">Single Responsibility Principle</h3>

<blockquote>
  <p>A class should have one, and only one, reason to change.
~ Uncle Bob in his <a href="http://butunclebob.com/ArticleS.UncleBob.PrinciplesOfOod">Priciples of OOD</a></p>
</blockquote>

<p>A class should focus on a single set of <strong><em>cohesive</em></strong> tasks.</p>

<p>By cohesive, it means the member functions are highly interdependent and
interconnected, they work together to define the characteristic of the class.</p>

<p>Cohesion also means collaboration. Think about development teams in an IT
company, you don’t often come across a front-end developer in a database team,
or a marketing person in a backend team who attends every sprint meeting. You
are a unit who does something well, and you team works together to do
something bigger well, and your whole development department collaborates
together to deliver a really complex system, then all the departments in your
company strive to make the business profitable.</p>

<p>It’s exactly the same thing in writing source code, every line of code in a
method works together to define the method, every method in a class serves
their purpose and create sense for the class, every class in a module fit
together to form a module, and every module work together as a system.</p>

<p>I’d like to point out that this sounds similar to our <strong><em>one thing rule</em></strong> for
functions, except that it says functions should do <strong><em>one thing</em></strong>, and classes
that follow SRP should have <strong><em>one responsibility</em></strong>, or <strong><em>one reason to
change</em></strong>. Now first of all, we should not get confused, I’ve seen people
claiming on the Internet that a class should do one thing and one thing only.
That sounds like a horrible disaster, having all the classes doing only one
particular <em>thing</em> is unimaginable.</p>

<p>Secondly, they do have many similarities. These two principles all try to
extract out excessive code that does not belong to the code unit to achieve
better maintainability, reduce coupling and improve cohesion. Now to save us
from unnecessary semantic debates, let’s just agree on that <strong><em>one thing</em></strong> is
literally <strong><em>one particular task to achieve</em></strong>, and <strong><em>one responsibility</em></strong>
means a set of interdependent and interconnected jobs that can’t and shouldn’t
be divided into smaller groups. A class that has a single responsibility
indicates that there’s only one reason to change the class, no matter it’s
fixing a bug or adding a new feature, we do it all under the scope of this
particular responsibility.</p>

<p>However, these similarities give us a hint and we can practically use a similar
set of steps to refactor a class to let it comply with SRP – We extract
excessive functions and properties and put them in other classes until we
couldn’t extract anything more out of it and give the extracted code a meaningful
class name that is different from the original one.</p>

<p>Keep in mind this is kind of an extreme method, we do have to consider business
logic and domain requirements in the process. Nevertheless, this should be a
good way to get you started.</p>

<p>Another practical method comes from our last installment of Clean Code Tips and
Tricks, where we discussed a way to detect if a class is not following SRP. We
had a class called <code class="highlighter-rouge">DataFileSplitterAndProcessor</code>, it actually has two
responsibilities, splitting and processing data files, thus there are two
reasons to change the class – Maintaining the splitting functionalities, and
maintaining the processing functionalities, which violates the SRP.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
 * A simple trick to tell if a class follows
 * SRP is to try to describe it as descriptive as you can.
 */</span>

<span class="kd">class</span> <span class="nc">EmailService</span> <span class="p">{</span>
    <span class="k">protected</span> <span class="nv">$invoice</span><span class="p">;</span>

    <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nx">InvoiceRepository</span> <span class="nv">$invoice</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">invoice</span> <span class="o">=</span> <span class="nv">$invoice</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">function</span> <span class="nf">calculateTax</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">invoice</span><span class="o">-&gt;</span><span class="na">subtotal</span> <span class="o">*</span> <span class="mf">0.025</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">emailInvoiceToUser</span><span class="p">(</span><span class="nx">UserRepository</span> <span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
        <span class="cm">/* Code to generate email message */</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$emailHasSentSuccessfully</span><span class="p">)</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nx">EmailDeliveryFailedException</span><span class="p">();</span>

        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The above code shows a very poorly designed class, if you try your best to
verbosely describe the class, it’s one that “Calculates the tax and generates
invoice email and sends email to a user”. You may as well name the class as
<strong><em>TaxAndInvoiceAndEmailService</em></strong>. In case you haven’t noticed,
<em>calculateTax()</em> should belong to Invoice class, by calculating tax here in
<em>EmailService</em> breaks encapsulation.</p>

<p>This is how this simple trick works, if you ever see a class that should be
named with <strong><em>and</em></strong> in it’s name, then it’s most probably not following the
SRP.</p>

<p>You may argue that your business logic is such that an email would only be
generated and sent to the user in the case of sending invoices, it makes sense
to congregate these methods into one class.</p>

<p>That maybe true to some extend, but having separate <strong><em>EmailService</em></strong>,
<strong><em>InvoiceService</em></strong> and <strong><em>TaxService</em></strong> makes it much more clearer and easier
to extend, what if a wild <em>sending coupon expiring warning emails</em> or a
<em>applying discounts to invoices exceeds certain amount in subtotal</em> requirement
appears in the future? What if such requirements keep comming and eventually
make this class too complex and coupled to work with?</p>

<h3 id="open-closed-principle">Open-Closed Principle</h3>

<blockquote>
  <p>You should be able to extend a class’s behavior, without modifying it.
~ Robert C. Martin</p>
</blockquote>

<p>A class should be open to extension, meaning a new behavior, functionality or
property, but should be closed to modification, no extension should result in
modifying of the existing code. Unless, of course, when you are fixing a bug.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Product</span> <span class="p">{</span>
    <span class="k">protected</span>  <span class="nv">$name</span><span class="p">;</span>
    <span class="k">protected</span>  <span class="nv">$price</span><span class="p">;</span>

    <span class="k">public</span> <span class="nx">funcion</span> <span class="nx">__construct</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nx">price</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="nv">$name</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span> <span class="o">=</span> <span class="nv">$price</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayName</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayPrice</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">updatePrice</span><span class="p">(</span><span class="nv">$new_price</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span> <span class="o">=</span> <span class="nv">$new_price</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayLabel</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">.</span> <span class="s1">': $'</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Imagain we have a Product class shown above, now our client wants a new feature,
add a new type of product called promotional products each have their own
discount rate, but their discounted prices are only available on 11th of
November, the Chinese version of boxing day. Now, a conventional way to
implement the new feature would be as shown below,</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Product</span> <span class="p">{</span>

    <span class="k">protected</span> <span class="nv">$name</span><span class="p">;</span>
    <span class="k">protected</span> <span class="nv">$price</span><span class="p">;</span>
    <span class="k">protected</span> <span class="nv">$discount_rate</span><span class="p">;</span> <span class="c1">//&lt;-</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$price</span><span class="p">,</span> <span class="nv">$discount_rate</span> <span class="o">=</span> <span class="k">NULL</span><span class="p">)</span> <span class="p">{</span><span class="c1">//&lt;-</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="nv">$name</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span> <span class="o">=</span> <span class="nv">$price</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">discount_rate</span> <span class="o">=</span> <span class="nv">$discount_rate</span><span class="p">;</span> <span class="c1">//&lt;-</span>
    <span class="p">}</span>

    <span class="o">...</span>
    <span class="o">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayDiscountRate</span><span class="p">()</span> <span class="p">{</span> <span class="c1">//&lt;-</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">discount_rate</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">updateDiscountRate</span><span class="p">(</span><span class="nv">$new_discount_rate</span><span class="p">)</span> <span class="p">{</span> <span class="c1">//&lt;-</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">discount_rate</span> <span class="o">=</span> <span class="nv">$new_discount_rate</span><span class="p">;</span> <span class="c1">//&lt;-</span>
    <span class="p">}</span> <span class="c1">//&lt;-</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayLabel</span><span class="p">()</span> <span class="p">{</span> <span class="c1">//&lt;-</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">discount_rate</span><span class="p">)</span> <span class="o">||</span> <span class="nx">NOTTODAY</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">.</span> <span class="s1">': $'</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">.</span>
               <span class="s1">': Full Price $'</span> <span class="o">.</span>
               <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span> <span class="o">.</span>
               <span class="s1">' Discounted Price $'</span><span class="o">.</span>
               <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span> <span class="o">*</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">discount_rate</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>To accomodate this new requirement, we had to add a property named
<code class="highlighter-rouge">$discount_rate</code>, and we had to modify the class constructor and <code class="highlighter-rouge">displayLabel</code>
function which is a bad idea that may lead to bugs and maintainability issues.</p>

<p>Note that we’ve talked about getting rid of class conditional switches in our
Clean Code Tips and Tricks: Classes post, you can observe a similar conditional
in the example code above as it checks if the instance has <em>discount_rate</em> set
and then performs actions accordingly. Our suggestion then was to favor
inheritance over conditionals in classes, Open-Closed Principle suggests the
same thing.</p>

<p>BTW, utilizing NULL is in most cases a bad idea, it causes null pointer
exceptions and may potentially lead to confusing bugs.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Product</span> <span class="p">{</span>
    <span class="cm">/* Original Product Class */</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">PromotionalProduct</span> <span class="k">extends</span> <span class="nx">Product</span> <span class="p">{</span>

    <span class="k">protected</span> <span class="nv">$discount_rate</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$price</span><span class="p">,</span> <span class="nv">$discount_rate</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="nv">$name</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span> <span class="o">=</span> <span class="nv">$price</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">discount_rate</span> <span class="o">=</span> <span class="nv">$discount_rate</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayDiscountRate</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">discount_rate</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">updateDiscountRate</span><span class="p">(</span><span class="nv">$new_discount_rate</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">discount_rate</span> <span class="o">=</span> <span class="nv">$new_discount_rate</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayLabel</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">NOTTODAY</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">.</span> <span class="s1">': $'</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">.</span>
               <span class="s1">': Full Price $'</span> <span class="o">.</span>
               <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span> <span class="o">.</span>
               <span class="s1">' Discounted Price $'</span><span class="o">.</span>
               <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span> <span class="o">*</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">discount_rate</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>We did it without modifying the original Product class. By creating a new class
called <code class="highlighter-rouge">PromotionalProduct</code> that extends <code class="highlighter-rouge">Product</code>, we inherited all member
properties and methods, and by overwriting <code class="highlighter-rouge">displayLabel()</code> function’s behavior, we
fullfiled the requirement, and we got rid of the conditional check since a
promotional product should always have a discount rate even if it’s 1.</p>

<p>This looks better, but not yet bullet-proof, we’ll refine this code more later.
Now this new additon may have bugs and issues, but we saved ourselves from
creating problems in existing codebase by modifying it, which may potentially
lead to much more confusing issues.</p>

<p>Another thing to note is that interfaces and inheritance are all viable ways to
achieve abstraction and polymorphism, choosing which one to use is out of the
scope of this post.</p>

<p>Plus the choice depends heavily on which programming language you use. For PHP,
inheritance is a way to share similar behavior, traits can be used to share code
among classes that need the same piece of code but share nothing else in common,
and interfaces provide a way to define common protocols.</p>

<h3 id="liskov-substitution-principle">Liskov Substitution Principle</h3>

<p>If Open-Closed Principle tells us how to avoid modifying existing code to
improve maintainability by abstraction, the Liskov Substitution Principle tells
us how to utilize abstraction <strong><em>correctly</em></strong>.</p>

<blockquote>
  <p>If for each object o1 of type S there is an object o2 of type T such that for
all programs P defined in terms of T, the behavior of P is unchanged when o1
is substituted for o2 then S is a subtype of T.
~ Barbara Liskov</p>
</blockquote>

<p>What we want to accomplish is that if a class A is a subtype of B, our program
should remain unaffected if we replace object b of Class B with an object a of
class A.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Invoice</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="o">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">calculateSubtotal</span><span class="p">(</span><span class="nv">$order</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$subtotal</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$order</span> <span class="k">as</span> <span class="nv">$entry</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$subtotal</span> <span class="o">+=</span>
                <span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">product</span><span class="o">-&gt;</span><span class="na">displayPrice</span><span class="p">()</span> <span class="o">*</span> <span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">getQuantity</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$subtotal</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Say we have an <code class="highlighter-rouge">Invoice</code> class in our system, in conjuction with <code class="highlighter-rouge">Product</code> and
<code class="highlighter-rouge">PromotionalProduct</code> classes we wrote in our last example, we can calculate the
subtotal of a given order like this.</p>

<p>However, as you may have realized, this method should work fine before we added
<code class="highlighter-rouge">PromotionalProduct</code>, but the programmer who coded this didn’t foresee the
comming requirement additon, thus it fails at calculating the correct subtotal
when we supply <code class="highlighter-rouge">$order</code> with at least one instance of <code class="highlighter-rouge">PromotionalProduct</code> in
it.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Invoice</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="o">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">calculateSubtotal</span><span class="p">(</span><span class="nv">$order</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$subtotal</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$order</span> <span class="k">as</span> <span class="nx">entry</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">product</span> <span class="nx">instanceof</span> <span class="nx">PromotionalProduct</span>
                <span class="o">&amp;&amp;</span>
                <span class="nx">TODAY</span> <span class="o">===</span> <span class="nx">BOXINGDAY</span><span class="p">)</span> <span class="p">{</span>

                <span class="nv">$subtotal</span> <span class="o">+=</span>
                    <span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">product</span><span class="o">-&gt;</span><span class="na">displayPrice</span><span class="p">()</span> <span class="o">*</span> <span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">product</span><span class="o">-&gt;</span><span class="na">displayDiscountRate</span><span class="p">()</span> <span class="o">*</span> <span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">getQuantity</span><span class="p">();</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nv">$subtotal</span> <span class="o">+=</span> <span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">product</span><span class="o">-&gt;</span><span class="na">displayPrice</span><span class="p">()</span> <span class="o">*</span> <span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">getQuantity</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$subtotal</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Looks like we did it, by differentiating which class the <code class="highlighter-rouge">$product</code> is an
instance of, we perform calculations accordingly.</p>

<p>But still, this is a direct violation of Liskov Substitution Principle, we
substituted objects of <code class="highlighter-rouge">Product</code> class with objects of class
<code class="highlighter-rouge">PromotionalProduct</code> that extends <code class="highlighter-rouge">Product</code>, but our program was affected by
this substitution, we had to change its behavior to avoid bugs.</p>

<p>LSP implies that our program should remain ignorant of such substitution, it
shouldn’t care if the object is of the base class, or the derived class.</p>

<p>If you ever come across a piece of code like this, performing actions according
to which class the object is an instance of, and the classes in the context
implements abstraction (interface or inheritance), it’s a clear sign that you
may have violated LSP. This piece of code most probably have the knowledge of
every possible derivatives of the base class and need to be updated everytime we
add a new type of variant.</p>

<p>Some may argue if we modify the <code class="highlighter-rouge">displayPrice()</code> getter in the derived class
<code class="highlighter-rouge">PromotionalProduct</code> and let it return full prices and discounted prices
accordingly, then we don’t have to know the object type in our <code class="highlighter-rouge">Invoice</code> class,
we can calculate the subtotal simply by calling each object’s <code class="highlighter-rouge">displayPrice()</code>
function.</p>

<p>That is true and viable, as long as we have the confidence that every derived
class of the base class implements a displayPrice() properly, we don’t have to
check the object type anymore. Doesn’t this sound familiar? Yes, Interface.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">interface</span> <span class="nc">Product</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayLabel</span><span class="p">();</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayPrice</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">NormalProduct</span> <span class="k">implements</span> <span class="nx">Product</span> <span class="p">{</span>
    <span class="k">private</span> <span class="nv">$name</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$price</span><span class="p">;</span>

    <span class="o">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayLabel</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">.</span> <span class="s1">': $'</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">displayPrice</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayPrice</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">PromotionalProduct</span> <span class="k">implements</span> <span class="nx">Product</span> <span class="p">{</span>
    <span class="k">private</span> <span class="nv">$name</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$price</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$discount_rate</span><span class="p">;</span>

    <span class="o">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayLabel</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">.</span> <span class="s1">': $'</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">displayPrice</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayPrice</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">TODAY</span> <span class="o">!=</span> <span class="nx">BOXINGDAY</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span> <span class="o">*</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">discount_rate</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Invoice</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="o">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">calculateSubTotal</span><span class="p">(</span><span class="nv">$order</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$subtotal</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$order</span> <span class="k">as</span> <span class="nv">$entry</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$subtotal</span> <span class="o">+=</span> <span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">product</span><span class="o">-&gt;</span><span class="na">displayPrice</span><span class="p">()</span> <span class="o">*</span> <span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">getQuantity</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$subtotal</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>By implementing a common interface, we defined common protocols that both
<em>NormalProduct</em> and <em>PromotionalProduct</em> should comply, but they can implement
the function according to their specialized business logics. Now that our
<em>Invoice</em> class can confidently call <em>displayPrice()</em> on any object that
complies with <em>Product</em> interface.</p>

<p>Of course, if <em>Product</em> and <em>PromotionalProduct</em> shares a lot in common, we
could always use inheritance other than interface.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">abstract</span> <span class="kd">class</span> <span class="nc">Product</span> <span class="p">{</span>
    <span class="k">private</span> <span class="nv">$name</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$price</span><span class="p">;</span>

    <span class="o">...</span>

    <span class="k">abstract</span> <span class="k">function</span> <span class="nf">displayPrice</span><span class="p">();</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayLabel</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">.</span> <span class="s1">': $'</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">displayPrice</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">NormalProduct</span> <span class="k">extends</span> <span class="nx">Product</span> <span class="p">{</span>
    <span class="o">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayPrice</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">PromotionalProduct</span> <span class="k">extends</span> <span class="nx">Product</span> <span class="p">{</span>
    <span class="o">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">displayPrice</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">TODAY</span> <span class="o">!=</span> <span class="nx">BOXINGDAY</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span> <span class="o">*</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">discount_rate</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Let’s extend the example a bit to further visualize the topic. Let’s ignore the
possibly flawed domain logic and just say that each product hold its own tax
rate and shipping cost which would be used when generating an invoice.
The catch here, is that products purchased with promotional price can’t be
shipped outside of the country but normal products can, and to further encourage
sales, all promotional products on 11th of November are tax-free.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">abstract</span> <span class="kd">class</span> <span class="nc">Product</span> <span class="p">{</span>
    <span class="k">private</span> <span class="nv">$name</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$price</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$weight</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$size</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$tax_rate</span><span class="p">;</span>

    <span class="o">...</span>
    <span class="o">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">calculateShippingCost</span><span class="p">(</span><span class="nv">$province</span><span class="p">)</span> <span class="p">{</span>
        <span class="cm">/*
         * Code to calculate shipping costs
         * according to provice, weight and size
         */</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">updateTaxRate</span><span class="p">(</span><span class="nv">$new_tax_rate</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tax_rate</span> <span class="o">=</span> <span class="nv">$new_tax_rate</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getTaxRate</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tax_rate</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">NormalProduct</span> <span class="k">extends</span> <span class="nx">Product</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="o">...</span>

    <span class="cm">/*
     * Nothing to overwrite
     * raleting to tax and shipping cost
     */</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">PromotionalProduct</span> <span class="k">extends</span> <span class="nx">Product</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="o">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">calculateShippingCost</span><span class="p">(</span><span class="nv">$province</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Promitonal products can't be shipped outside the country on boxing day.</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$province</span><span class="p">,</span> <span class="nv">$domesticProvinces</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">TODAY</span> <span class="o">===</span> <span class="nx">BOXINGDAY</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nx">InvalidShippingProvinceException</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="cm">/* Calculate shipping cost normally */</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getTaxRate</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">TODAY</span> <span class="o">===</span> <span class="nx">BOXINGDAY</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tax_rate</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>We added a new property called <code class="highlighter-rouge">$tax</code>, a function to calculate shipping cost and
to display tax rate in the base class, then we inherited the base class in
<em>NormalProduct</em> class without any overwriting. In <em>PromotionalProduct</em> class
however, we overwrote <code class="highlighter-rouge">calculateShippingCost()</code> and <code class="highlighter-rouge">getTax()</code> functions to
reflect its specified requirements.</p>

<p>Now this looks perfect, what could ever go wrong? Let’s take a look at our
<code class="highlighter-rouge">Invoice</code> class, which is a client (or user) of our base class <code class="highlighter-rouge">Product</code>.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Invoice</span> <span class="p">{</span>

    <span class="o">...</span>
    <span class="o">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">calculateTotalShippingCosts</span><span class="p">(</span><span class="nv">$order</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$totalShippingCosts</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$order</span> <span class="k">as</span> <span class="nv">$entry</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$totalShippingCosts</span> <span class="o">+=</span> <span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">product</span><span class="o">-&gt;</span><span class="na">calculateShippingCost</span><span class="p">(</span><span class="nv">$order</span><span class="o">-&gt;</span><span class="na">address</span><span class="o">-&gt;</span><span class="na">province</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$totalShippingCosts</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">calculateTaxCredit</span><span class="p">(</span><span class="nv">$order</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$totalTaxCredit</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$order</span> <span class="k">as</span> <span class="nv">$entry</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">switch</span> <span class="p">(</span><span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">product</span><span class="o">-&gt;</span><span class="na">getTax</span><span class="p">())</span> <span class="p">{</span>
                <span class="k">case</span> <span class="mf">0.5</span><span class="o">:</span>
                    <span class="nv">$totalTaxCredit</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="mf">1.5</span><span class="o">:</span>
                    <span class="nv">$totalTaxCredit</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="mf">2.5</span><span class="o">:</span>
                    <span class="nv">$totalTaxCredit</span> <span class="o">+=</span> <span class="mi">3</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">default</span><span class="o">:</span>
                    <span class="k">throw</span> <span class="k">new</span> <span class="nx">UnexpectedTaxValueExeception</span><span class="p">(</span><span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">product</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$totalTaxCredit</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="o">...</span>
    <span class="o">...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>We have a <code class="highlighter-rouge">calculateTotalShippingCosts()</code> and a <code class="highlighter-rouge">calculateTaxCredit()</code> function
here which grants users credit according to the tax rate of the product they
purchased, this was intended as a virtual currency for tax-refund purposes.</p>

<p>Same as the last time, after we added the <code class="highlighter-rouge">PromotionalProduct</code> derived class,
these two functions in <code class="highlighter-rouge">Invoice</code> class broke. When there is at least one
instance of  <code class="highlighter-rouge">PromotionalProduct</code> in <code class="highlighter-rouge">$order</code>, <code class="highlighter-rouge">calculateShippingCosts()</code> would
sometimes throw an exception when it’s boxing day and someone is purchasing
promotional product from overseas, this exception was never expected when
writing the <code class="highlighter-rouge">Invoice</code> class. While the <code class="highlighter-rouge">calculateTaxCredit()</code> function would
simply throw an error on boxing day since we didn’t know any product could have
a tax rate of zero.</p>

<p>This is an illustration of both precondition and postcondition violation.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">function</span> <span class="nf">calculateShippingCost</span><span class="p">(</span><span class="nv">$province</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$province</span><span class="p">,</span> <span class="nv">$domesticProvinces</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">TODAY</span> <span class="o">===</span> <span class="nx">BOXINGDAY</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nx">InvalidShippingProvinceException</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="o">/</span> <span class="nx">Calculate</span> <span class="nx">shipping</span> <span class="nx">cost</span> <span class="nx">normally</span> <span class="o">*/</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Look at this function in our <code class="highlighter-rouge">PromotionalProduct</code> class, what we did wrong here
is that we made the precondition of the original <code class="highlighter-rouge">getShippingCost($province)</code>
function in abstract class <code class="highlighter-rouge">Product</code> <strong><em>stronger</em></strong>, the original function
accepts any province or states in the world and yields shipping cost
accordingly, but in <code class="highlighter-rouge">PromotionalProduct</code> it only accepts domestic provinces on
boxing day, thus we strengthened the precondition, causing function callings in
clients or users of the base class to potentially fail since they passed the now
considered <strong><em>weaker</em></strong> parameter to our overwritten function.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">function</span> <span class="nf">getTaxRate</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">TODAY</span> <span class="o">===</span> <span class="nx">BOXINGDAY</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tax_rate</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">getTax()</code> function in our <code class="highlighter-rouge">PromotionalProduct</code> class on the other hand, by
adding one more possible return value, zero in this case, we made the
postcondition <strong><em>weaker</em></strong>. This caused clients or users of the <code class="highlighter-rouge">Product</code> class
getting unexpected return values from instances of <code class="highlighter-rouge">PromotionalProduct</code>.</p>

<p>These all contributed to the unsuccessful substitution, the client of the base
class cannot simply work with the newly extended derivative properly.</p>

<blockquote>
  <p>…when redefining a routine [in a derivative], you may only replace its
precondition by a weaker one, and its postcondition by a stronger one.
~ Bertrand Meyer</p>
</blockquote>

<p>To fix this problem, we have to strengthen the precondition in the base class
thus the extending class won’t have a stronger one, and weaken the postcondition
so that the extending class won’t have a weaker one.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">abstract</span> <span class="kd">class</span> <span class="nc">Product</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="o">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">canShipOverseas</span><span class="p">(){</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">calculateShippingCost</span><span class="p">(</span><span class="nv">$province</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">canShipOverSeas</span><span class="p">())</span> <span class="p">{</span>
            <span class="nx">thow</span> <span class="k">new</span> <span class="nx">InvalidShippingProvinceException</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="cm">/* As usual */</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">NormalProduct</span> <span class="k">extends</span> <span class="nx">Product</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="o">...</span>

    <span class="cm">/* Nothing as well */</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">PromotionalProduct</span> <span class="k">extends</span> <span class="nx">Product</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="o">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">canShipOverseas</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$province</span><span class="p">,</span> <span class="nv">$domesticProvinces</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">TODAY</span> <span class="o">===</span> <span class="nx">BOXINGDAY</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="cm">/* Don't have to overwrite calculateShippingcost() this time */</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Invoice</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="o">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">calculateTaxCredit</span><span class="p">(</span><span class="nv">$order</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$totalTaxCredit</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$order</span> <span class="k">as</span> <span class="nv">$entry</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">switch</span> <span class="p">(</span><span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">product</span><span class="o">-&gt;</span><span class="na">getTax</span><span class="p">())</span> <span class="p">{</span>
                <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
                    <span class="nv">$totalTaxCredit</span> <span class="o">+=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="k">case</span> <span class="mf">0.5</span><span class="o">:</span>
                    <span class="nv">$totalTaxCredit</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="mf">1.5</span><span class="o">:</span>
                    <span class="nv">$totalTaxCredit</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="mf">2.5</span><span class="o">:</span>
                    <span class="nv">$totalTaxCredit</span> <span class="o">+=</span> <span class="mi">3</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">default</span><span class="o">:</span>
                    <span class="k">throw</span> <span class="k">new</span> <span class="nx">UnexpectedTaxValueExeception</span><span class="p">(</span><span class="nv">$entry</span><span class="o">-&gt;</span><span class="na">product</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$totalTaxCredit</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>As shown in the example code above, we added a <em>canShipOverseas()</em> function and
checks if it’s true in the <em>calculateShippingCost()</em> function. Placing them all
in the base abstract class enforces the precondition so that it is possible to
raise exception on boxing day when some customer places an order from  overseas.</p>

<p>To fix the problem in <em>getTaxRate()</em> function is fairly easy, we just need to
acknowledge that the postcondition is that it may return zero, and just reflect
that in the <em>calculateTaxCredit()</em> function. Note that inheritance alone cannot
be a violation to LSP, there has to be at least one client program in the
context which would broke if an object of the base class was replaced by an
object of the subclass. If all client programs are able to perform the
substitution with unchanged behavior, then the code is compliant with LSP.</p>

<p>Another thing to keep in mind if you are confronted with a base class and it’s
derived class that violates LSP and you feel there’s no elegant way to make them
compliant, there’s a good chance that the subclass should not inherit the base
class, they should be two different classes. This scenario is covered in the
famous Rectangle-Square problem, refer to it if you are interested to know more.</p>

<h3 id="interface-segregation-principle">Interface Segregation Principle</h3>

<p>To put it simply, we split interfaces into smaller ones so that their
implementing classes wouldn’t be forced to implement methods they don’t want.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">interface</span> <span class="nc">Faculty</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">teachClass</span><span class="p">(</span><span class="nv">$class</span><span class="p">);</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">conductTutorial</span><span class="p">(</span><span class="nv">$tutorial</span><span class="p">);</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">markAssignment</span><span class="p">(</span><span class="nv">$assignment</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Say we have a <code class="highlighter-rouge">Faculty</code> interface as shown above, now a lecture should teach
classes and mark assignments, but what if our business logic dictates that only
teaching assistant can conduct tutorials? By having our <code class="highlighter-rouge">Lecture</code> class
implementing this interface, we force it to conduct tutorials.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">interface</span> <span class="nc">Teacher</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">teachClass</span><span class="p">(</span><span class="nv">$class</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">interface</span> <span class="nc">Tutor</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">conductTutorial</span><span class="p">(</span><span class="nv">$tutorial</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">interface</span> <span class="nc">Marker</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">markAssignment</span><span class="p">(</span><span class="nv">$assignment</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Lecture</span> <span class="k">implements</span> <span class="nx">Teacher</span><span class="p">,</span> <span class="nx">Marker</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">teachClass</span><span class="p">(</span><span class="nv">$class</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">markAssignment</span><span class="p">(</span><span class="nv">$assignment</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">TeachingAssistant</span> <span class="k">implements</span> <span class="nx">Tutor</span><span class="p">,</span> <span class="nx">Marker</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">conductTutorial</span><span class="p">(</span><span class="nv">$tutorial</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">markAssignment</span><span class="p">(</span><span class="nv">$assignment</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Now this looks much more reasonable, having derived classes only implement
methods they are interested in decouples them with undesired responsibilities.</p>

<h3 id="dependency-inversion-principle">Dependency Inversion Principle</h3>

<p>Let’s begin with an example.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Email</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">send</span><span class="p">()</span> <span class="p">{</span>
        <span class="cm">/* code to send email */</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">PromotionNotification</span> <span class="p">{</span>
    <span class="k">protected</span> <span class="nv">$email</span><span class="p">;</span>

    <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nx">Email</span> <span class="nv">$email</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">email</span> <span class="o">=</span> <span class="nv">$email</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">send</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">email</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>We say that <code class="highlighter-rouge">PromotionNotification</code> class is tightly coupled with <code class="highlighter-rouge">Email</code> class
since it directly depends on it and knows it’s business logic. The problem with
coupling is if we decide to add another way to send promotional messages,
through SMS for example, we’d have to go back to our <code class="highlighter-rouge">PromotionNotification</code>
class to change it’s implementation, thus violating Open-Closed Principle.</p>

<p>Dependency Inversion Principle helps us to decouple our codebase. Note that DIP
and Dependency Injection are essentially two things, but you can view DI as a
means to achieve DIP. We’ll talk about this later.</p>

<blockquote>
  <p>Depend on abstractions, not on concretions.
…
High level modules should not depend upon low level modules. Both should depend upon abstractions.
…
~ Robert C. Martin</p>
</blockquote>

<p>So instead of letting <code class="highlighter-rouge">PromotionNotification</code> class depend on concrete <code class="highlighter-rouge">Email</code>
class, let’s have it depend on an abstraction of it.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">interface</span> <span class="nc">MessageService</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">send</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Email</span> <span class="k">implements</span> <span class="nx">MessageService</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">send</span><span class="p">()</span> <span class="p">{</span>
        <span class="cm">/* Code to send email message */</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">SMS</span> <span class="k">implements</span> <span class="nx">MessageService</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">send</span><span class="p">()</span> <span class="p">{</span>
        <span class="cm">/* Code to send SMS message */</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">PromotionNotification</span> <span class="p">{</span>
    <span class="k">protected</span> <span class="nv">$messageService</span><span class="p">;</span>

    <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nx">MessageService</span> <span class="nv">$messageService</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">messageService</span> <span class="o">=</span> <span class="nv">$messageService</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">send</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">messageService</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Here we added an abstraction interface called <code class="highlighter-rouge">MessageService</code> and let both our
<code class="highlighter-rouge">Email</code> and <code class="highlighter-rouge">SMS</code> class to implement it. Now our <code class="highlighter-rouge">PromotionNotification</code> depends
on <code class="highlighter-rouge">MessageService</code> and by protocol defined, we know any derived class should
have a <code class="highlighter-rouge">send()</code> function implemented.</p>

<p>We are now complaint with DIP since we now don’t depend on any concrete class,
and we are free to switch <code class="highlighter-rouge">MessageService</code> with any of it’s implementing class
without having to modify existing code, or affect our system’s behavior.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">...</span>

<span class="nv">$promotionNotification</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PromotionNotification</span><span class="p">(</span><span class="k">new</span> <span class="nx">Email</span><span class="p">());</span>

<span class="o">...</span>

<span class="nv">$promotionNotification</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
</code></pre></div></div>

<p>This dependency injection technique is called the Contructor Injection, we
inject dependency when creating an object of <code class="highlighter-rouge">PromotionNotification</code> class. If
we’d like to specify the dependency as we call <code class="highlighter-rouge">send()</code> function, we can switch
to Method Injection.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">PromotionNotification</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">sendVia</span><span class="p">(</span><span class="nx">MessageService</span> <span class="nv">$messageService</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$messageService</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Note that <code class="highlighter-rouge">MessageService</code> has been moved out of the constructor and in the
<code class="highlighter-rouge">sendVia()</code> function’s signature. Now we can switch implementing classes on the
fly.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$promotionNotification</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PromotionNotification</span><span class="p">();</span>

<span class="o">...</span>

<span class="nv">$promotionNotification</span><span class="o">-&gt;</span><span class="na">sendVia</span><span class="p">(</span><span class="k">new</span> <span class="nx">Email</span><span class="p">());</span>

<span class="nv">$promotionNotification</span><span class="o">-&gt;</span><span class="na">sendVia</span><span class="p">(</span><span class="k">new</span> <span class="nx">SMS</span><span class="p">());</span>
</code></pre></div></div>

<p>Choose either method according to your requirements.</p>

<p>You did it! This is the end of our discussion on S.O.L.I.D principle, a powerful
and well recognized design principle that I think should be adopted by every
project. We talked about each of the five principles, discussed some examples
, common misconceptions, and stressed some topics which I think are not getting
enough attention from sources I’ve read online. I hope you enjoyed it, and
looking forward to seeing you in the next installment on Software Design
Principles.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#design-principles" class="page__taxonomy-item" rel="tag">Design Principles</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#php" class="page__taxonomy-item" rel="tag">PHP</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#solid" class="page__taxonomy-item" rel="tag">SOLID</a>
    
    </span>
  </p>




        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2014-05-09T00:00:00+08:00">May 09, 2014</time></p>
        
      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=Software+Design+Principles+-+That+Looks+S.O.L.I.D%20http%3A%2F%2Flocalhost%3A4000%2Fsoftware-design-principles-that-looks-solid%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fsoftware-design-principles-that-looks-solid%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fsoftware-design-principles-that-looks-solid%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/clean-code-tips-and-tricks-general-guidelines/" class="pagination--pager" title="Clean Code Tips and Tricks: General Guidelines
">Previous</a>
    
    
      <a href="/how-i-switched-from-vim-to-emacs/" class="pagination--pager" title="How I Switched From Vim to Emacs
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/how-i-switched-from-vim-to-emacs/" rel="permalink">How I Switched From Vim to Emacs
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  19 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">I’ve been using vim as my preferred choice of editor for a little more than
five years by the time I decided to leave for emacs for good. During these five
y...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/clean-code-tips-and-tricks-general-guidelines/" rel="permalink">Clean Code Tips and Tricks: General Guidelines
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  7 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Welcome back fellow computer witches and wizards, let’s get back to where we
left on Clean Code Tips and Tricks. This will the be the last installment, we’ll...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/clean-code-tips-and-tricks-classes/" rel="permalink">Clean Code Tips and Tricks: Classes
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  8 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Welcome back to yet another post on Clean Code Tips and Tricks. We’ve covered
variables and functions so far, be sure to check these posts out first if you
h...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/clean-code-tips-and-tricks-functions/" rel="permalink">Clean Code Tips and Tricks: Functions
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  13 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Hello fellow geeks, welcome back to the second instalment of Clean Code Tips and
Tricks.

</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 Hai Lang. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
